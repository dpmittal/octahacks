{% extends 'new_index.html' %}

{% block content %}
<div class="container">
<h3> No. Of Trucks Required = {{ trucks|length }} </h3>

<table class="table table-hover">
  <thead>
    <tr>
      <th> Truck Id</th>
      <th> No. of Consignments </th>
      <th> Path </th>
    </tr>
  </thead>

  <tbody>
    {% set var = 1 %}
    {% set po = 0 %}
    {% for truck in trucks %}
        <tr data-toggle="collapse" data-target="#accordion" class="clickable">
        <td> {{ var }}</td>
        <td> {{ truck|length }}</td>
        <td> {{ path }}</td>
        </tr>
        {% set var= var+1 %}
        <tr>
            <td colspan="3">
                <div id="accordion" class="collapse" >
                    {% set packages= [] %} 
                    {% for package in truck %}
                        {% do packages.append(package[2]) %}
                    {% endfor %}
                    {{  packages|join(', ') }}
                </div>
            </td>
        </tr>
    {% endfor %}
  </tbody>

</table>
</div>
{% endblock%}